<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to Extend Logical Volumes on Ubuntu Server - DashJ</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Running out of disk space and managing disk partitions has long been a headache for IT engineers. Luckily, Linux tries to solve this problem by using logical volumes. On Ubuntu Server, logical volumes are the default method for managing your server disk space. Unfortunately, when using these volumes, not all disk space is used up"><meta name=robots content="index,follow,noarchive"><meta property="og:title" content="How to Extend Logical Volumes on Ubuntu Server"><meta property="og:description" content="Running out of disk space and managing disk partitions has long been a headache for IT engineers. Luckily, Linux tries to solve this problem by using logical volumes. On Ubuntu Server, logical volumes are the default method for managing your server disk space. Unfortunately, when using these volumes, not all disk space is used up"><meta property="og:type" content="article"><meta property="og:url" content="/extend-logical-volumes-lvm-ubuntu-server.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-06-17T00:00:00+00:00"><meta property="article:modified_time" content="2024-06-17T00:00:00+00:00"><meta itemprop=name content="How to Extend Logical Volumes on Ubuntu Server"><meta itemprop=description content="Running out of disk space and managing disk partitions has long been a headache for IT engineers. Luckily, Linux tries to solve this problem by using logical volumes. On Ubuntu Server, logical volumes are the default method for managing your server disk space. Unfortunately, when using these volumes, not all disk space is used up"><meta itemprop=datePublished content="2024-06-17T00:00:00+00:00"><meta itemprop=dateModified content="2024-06-17T00:00:00+00:00"><meta itemprop=wordCount content="794"><meta itemprop=keywords content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/mainroad/css/style.css><link rel="shortcut icon" href=./favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=./index.html title=DashJ rel=home><div class="logo__item logo__text"><div class=logo__title>DashJ</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>How to Extend Logical Volumes on Ubuntu Server</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-06-17T00:00:00Z>June 17, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=./categories/blog/ rel=category>blog</a></span></div></div></header><div class="content post__content clearfix"><p>Running out of disk space and managing disk partitions has long been a headache for IT engineers. Luckily, Linux tries to solve this problem by using logical volumes.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>On Ubuntu Server, logical volumes are the default method for managing your server disk space. Unfortunately, when using these volumes, not all disk space is used up and this might leave you wondering where all your disk space went. Let's take a look at how to adjust or increase your LVM hard disk space on Ubuntu.</p><h2 id=key-advantages-of-logical-volumes>Key Advantages of Logical Volumes</h2><p>Logical Volume Manager (LVM) is a command-line utility for managing logical volumes on Linux. If you intend to have several partitions on your server or PC then it is highly recommended that you use logical volumes for managing your disk space.</p><p>LVM is more advanced and efficient in comparison to traditional ways of managing disks using partitions. Here are some of the major benefits of logical volumes on Linux:</p><ul><li><strong>Efficient:</strong> Logical volumes provide you with a more efficient way to utilize disk space</li><li><strong>No need to restart servers:</strong> With logical volumes, you can modify disk size without the need to restart a server as is the case with regular partitions.</li><li><strong>Store data across volumes:</strong> You can easily store data across multiple volumes over the entire disk</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>On Ubuntu Server, you can either increase the logical volume during installation or after installing the OS. We'll look at both options so that you can choose which one suits you better. Unlike <a href=#>Ubuntu Desktop, Ubuntu Server</a> only comes with a terminal by default.</p><h2 id=extending-logical-volume-on-ubuntu-during-installation>Extending Logical Volume on Ubuntu During Installation</h2><p>When you get to the storage configuration page during the Ubuntu Server installation, select the <strong>ubuntu-lv</strong> partition mounted at <strong>root</strong> (<strong>/</strong>), press <strong>Enter</strong>, and select the <strong>Edit</strong> option.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/ubuntu_server_storage_configuration.jpg><p>On the next configuration page, you'll see the maximum possible space that your server can use compared to the one that it is currently assigned. In this case, the current disk space is 25GB and the maximum possible space that the server can use is 22.996GB, but it is only utilizing 11.496GB at the moment.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>To utilize the entire disk, simply enter the maximum possible amount shown in brackets or enter any custom disk size and then save your settings.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/ubuntu_lv_scree_increase-1.jpg><p>It's preferable to set the logical volume space during installation but in case you've forgotten or simply want to adjust the space on a live server, LVM also gives you that option.</p><h2 id=extending-logical-volume-on-ubuntu-server-after-installation>Extending Logical Volume on Ubuntu Server After Installation</h2><p>Before you can extend your logical volume space, you need to be aware of how much space you have available and how much you've used up. Normally, you'd do that with <a href=#>the df command</a>, but it will not display the correct size of the logical volumes.</p><p>Instead, use the <strong>vgdisplay</strong> (Volume Group Display) command, which displays comprehensive information on volume groups and logical volumes.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You'll need administrative privileges to run the command.</p><pre><code class=hljs>sudo vgdisplay</code> </pre><p>There are three important parameters you must pay attention to:</p><li><strong>VG Size:</strong> This is the volume group size and shows the total available disk size. In this case, it is 23GB.</li><li><strong>Alloc PE/Size:</strong> This shows the amount of space that your server is currently allocated</li><li><strong>Free PE/Size:</strong> Shows the free space out of the total possible storage space</li><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/logical_volume_vg_display_info.jpg> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The <strong>df</strong> command only displays the allocated space and not the entire possible space, and this can lead you to assume that you do not have much space left on your server when a lot of space is lying idle as part of the volume group.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/ubuntu_df_command_display_info-1.jpg><p>To extend the logical volume, use the <strong>lvextend</strong> command. But first, get the mount point of the logical volume using the <strong>lvdisplay</strong> command:</p><pre><code class=hljs>sudo lvdisplay</code> </pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/09/lv_display_command_on_linux.jpg><p>From the lvdisplay output, you can see that the disk is mounted on the path <strong>/dev/ubuntu-vg/ubuntu-lv</strong>.</p><p>Next, increase the logical volume space using the following command:</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre><code class=hljs>sudo lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv</code> </pre><p><strong>100%</strong> means using up the entire space, so assign the required percentage according to your needs, e.g. 50%, 60%, etc.</p><p>For the changes to take effect you also need to resize the file system comprising the logical volume. Get the file system path from the <strong>df -h</strong> command; in this case, it is <strong>/dev/mapper/ubuntu--vg-ubuntu--lv</strong>.</p><pre><code class="hljs sql">resize2fs /dev/mapper/ubuntu<span class=hljs-comment>--vg-ubuntu--lv</span></code> </pre><p>Now if you run the <strong>df -h</strong> command again, you will see that your root drive has increased in size.</p><h2 id=setting-up-lvm-on-an-ubuntu-server-is-easy>Setting Up LVM on an Ubuntu Server Is Easy</h2><p>LVM is a great tool that allows you to easily manage your disk utilization and logical volumes without the hassle involved in traditional disk partitions. Plus, if your server is running critical services, you do not need to restart it after adjusting disk size.</p><p>You can also set up LVM on your Ubuntu desktop for easy management of disk space.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7rq3KnqysnZ%2Bbe6S7zGicsayVo7FuuM6goJyZnGLDsLjUppysZZyrum7Bwa6lra1dqLKzwsSrZg%3D%3D</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=./jacqui-heinrich-wikipedia-age-husband-measurements.html rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Jacqui Heinrich Wikipedia: Age, Husband, Measurements.</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=./celebrity-birthday-14-may.html rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Celebrity birthdays 14 May: Cate Blanchett, Olly Murs and Martin Garrix</p></a></div></nav></div><aside class=sidebar><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./marco-pasternak-better-call-saul-character-profile.html>Marco Pasternak: Better Call Saul character profile</a></li><li class=widget__item><a class=widget__link href=./truck-vs-person-crash-off-n-division-st-in-davenport.html>Police investigate fatal crash off North Division Street, Davenport</a></li><li class=widget__item><a class=widget__link href=./grant-chestnu.html>Who is American Actor Grant Chestnut? His Height, Weight, Bio</a></li><li class=widget__item><a class=widget__link href=./john-cangelosi.html>Who is John Cangelosi dating? John Cangelosi girlfriend, wife</a></li><li class=widget__item><a class=widget__link href=./sandy-cagle.html>Who is Sandy Cagle dating? Sandy Cagle boyfriend, husband</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./categories/blog/>blog</a></li></ul></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 DashJ.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=https://assets.cdnweb.info/hugo/mainroad/js/menu.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>