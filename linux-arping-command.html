<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to Use the arping Command on Linux - DashJ</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="The Linuxarping command is like ping, but for local networks only. Its advantage is it operates at a lower networking level, sometimes getting responses when ping cannot. Here's how to use it. An IP address is a numerical label for a networked device. It's used as an address so the appropriate network traffic arrives at"><meta name=robots content="index,follow,noarchive"><meta property="og:title" content="How to Use the arping Command on Linux"><meta property="og:description" content="The Linuxarping command is like ping, but for local networks only. Its advantage is it operates at a lower networking level, sometimes getting responses when ping cannot. Here's how to use it. An IP address is a numerical label for a networked device. It's used as an address so the appropriate network traffic arrives at"><meta property="og:type" content="article"><meta property="og:url" content="/linux-arping-command.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-05-03T00:00:00+00:00"><meta property="article:modified_time" content="2024-05-03T00:00:00+00:00"><meta itemprop=name content="How to Use the arping Command on Linux"><meta itemprop=description content="The Linuxarping command is like ping, but for local networks only. Its advantage is it operates at a lower networking level, sometimes getting responses when ping cannot. Here's how to use it. An IP address is a numerical label for a networked device. It's used as an address so the appropriate network traffic arrives at"><meta itemprop=datePublished content="2024-05-03T00:00:00+00:00"><meta itemprop=dateModified content="2024-05-03T00:00:00+00:00"><meta itemprop=wordCount content="1562"><meta itemprop=keywords content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/mainroad/css/style.css><link rel="shortcut icon" href=./favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=./index.html title=DashJ rel=home><div class="logo__item logo__text"><div class=logo__title>DashJ</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>How to Use the arping Command on Linux</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-05-03T00:00:00Z>May 03, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=./categories/blog/ rel=category>blog</a></span></div></div></header><div class="content post__content clearfix"><h3>Quick Links</h3><ul class=table-content-level-1><li><a href=#>The ARP Protocol</a></li></ul><ul class=table-content-level-1><li><a href=#>The arping Command</a></li></ul><ul class=table-content-level-1><li><a href=#>Using arping In Scripts</a></li></ul><ul class=table-content-level-1><li><a href=#>A Deeper Insight</a></li></ul><p>The Linux&nbsp;<code>arping</code> command is like <code>ping</code>, but for local networks only. Its advantage is it operates at a lower networking level, sometimes getting responses when <code>ping</code> cannot. Here's how to use it.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=the-arp-protocol>The ARP Protocol</h2><p>An <a href=#>IP address</a> is a numerical label for a networked device. It's used as an address so the appropriate network traffic arrives at the correct device. But most devices on <a href=#>local area networks</a> have dynamic IP addresses. That is, their IP address might well change the next time they're booted up.</p><p>To be able to correctly route network traffic to the appropriate device, a scheme has to be employed that maps IP addresses to <a href=#>Media Access Control (MAC) addresses</a>. The MAC address is a unique identity established at the point of manufacture of a device. An IP address is a&nbsp;logical&nbsp;address. The MAC address is a&nbsp;physical&nbsp;address.</p><p><span class=related-single>Related: <a href=#>What Is a Data Packet?</a></span></p><p>The Address Resolution Protocol is the middleman that maps IP addresses to MAC addresses. The device responsible for marshaling and directing network <a href=#>packets</a> in your network---usually, the router---builds and maintains an ARP table that ties IP addresses to MAC addresses.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>If the <a href=#>router</a> needs to route data to a device it doesn't know about, it makes an ARP request to obtain the MAC address for the new device.</p><p>When a new device is connected to your network it is assigned an IP address, but that isn't enough to actually route traffic to it. The router needs to obtain the MAC address which is the missing piece of the jigsaw. But because the IP address on its own isn't enough information to route packets to the device, the <a href=#>Catch-22</a> is it can't use the IP address to query the hardware to get the MAC address.</p><p>The Open Systems Interconnection model groups the technologies that make up a working network as a series of layers. Higher layers cannot operate without the lower layers. There are seven layers in the OSI model.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><ul><li>Layer 7 is the top-most layer, the&nbsp;<strong>application</strong>&nbsp;layer. It provides information to the computer user and receives information back from them.</li><li>Layer 6 is the&nbsp;<strong>presentation</strong>&nbsp;layer. This makes sure the data is in the right format or state as it moves to and from the network format. <a href=#>Encryption</a> and decryption take place at this layer.</li><li>Layer 5 is the&nbsp;<strong>session</strong>&nbsp;layer. A session is a network connection between two or more devices. This layer involves itself with such matters as the initiation of a connection, handshaking, timeouts, and the breaking of connections that are no longer required.</li><li>Layer 4 is the&nbsp;<strong>transport</strong>&nbsp;layer. This is the layer that moves data around the network in a coordinated way. This layer is concerned with such things as transfer rates and data volumes. The Transmission Control Protocol---the TCP in <a href=#>TCP/IP</a>---operates at this layer.</li><li>Layer 3 is the&nbsp;<strong>network</strong>&nbsp;layer. This is where routing and packet forwarding takes place. It's the layer that the Internet Protocol---the IP in TCP/IP---operates at.</li><li>Layer 2 is the&nbsp;<strong>data link</strong>&nbsp;layer. It is used to send packets between directly-addressable devices using broadcasts to every device or unicasts to specific MAC addresses.</li><li>Layer 1 is the&nbsp;<strong>physical</strong>&nbsp;layer. This is concerned with the physical infrastructure including cabling, routers, and network switches. The radio waves used in Wi-Fi would also fall into this category.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>When the router receives a packet for an IP address that isn't in its table it sends a broadcast packet to the entire network. It effectively asks "Who has this IP address?" This is a layer two message so it doesn't rely on IP routing.</p><p>The device with the matching address responds by sending back its MAC Address. That device's IP address and MAC address can be added to the mapping table. Regular IP traffic can now be routed to the device because the relationship between its IP address and its MAC address has been established and recorded.</p><p><span class=related-single>Related: <a href=#>How to Permanently Change Your MAC Address on Linux</a></span></p><h2 id=the-arping-command>The arping Command</h2><p>All of the clever ARP stuff goes on automatically in the background, building and maintaining the ARP table. The <code>arping</code> command brings some of the functionality of the ARP query to the terminal window. It operates at OSI layer two and it can solicit a response from a device when <code>ping</code> does not.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>On Fedora 36, <code>arping</code> was already installed, but we needed to install it on Manjaro 21 and Ubuntu 22.04.</p><p>On Ubuntu the command is:</p><pre>sudo apt install arping</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/1-10.png><p>On Manjaro you need to type:</p><pre>sudo pacman -Sy arping</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/2-9.png><p>The simplest way to use <code>arping</code> is with an IP address. This must be the address of a directly-addressable device, connected to the local network. Because <code>arping</code> operates at layer two, no routing is possible. You'll need to use <code>sudo</code> with <code>arping</code>.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre>sudo arping 192.168.1.17</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/3-10.png><p>Press Ctrl+C to stop. The information returned is the MAC address of the responding device, the index number of the <code>arping</code> request, and the round-trip time for the <code>arping</code> request to be completed.</p><p>Compare the output to that from the <code>ping</code> command, below. The <code>ping</code> command returns more information about the timing of the network packet round-trip. The <code>arping</code> command gives you fewer timing stats, but it does include the device's MAC Address.</p><pre>ping 192.168.1.17</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/4-8.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You can also use <a href=#>the network name of the device</a> with <code>arping</code>.</p><pre>sudo arping fedora-36.local</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/5-9.png><p>You can use the <code>-c</code> (count) option to tell <code>arping</code>&nbsp;to stop after a set number of requests. This command tells <code>arping</code> to try twice and then stop.</p><pre>sudo arping -c 2 192.168.1.18</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/6-8.png><p>If you have multiple network interfaces in your computer, you can&nbsp;use the <code>-I</code> (interface) option to tell <code>arping</code> which interface to use.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You can use <a href=#>the <code>ip link</code> command</a> to list your network interfaces.</p><pre>ip link</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/7-8.png><p>This computer has three interfaces. The <code>lo</code> virtual interface is used as a loopback for internal connections between software on the same computer. It isn't of use to us here. We can use either the ethernet connection <code>enp3s0</code> or the wireless interface <code>wlan0</code>.</p><p>This command tells <code>arping</code>&nbsp;to use the interface we choose, and not to make its own selection.</p><pre>sudo arping -c 2 -I enp3s0 manjaro-21.local</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/8-9.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=using-arping-in-scripts>Using arping In Scripts</h2><p>By wrapping <code>arping</code> in a loop in a script, we can get it to work over a range of IP addresses. Copy the text from this script and save it to a file called "scan-range.sh."</p><p>You'll need to edit the script and replace all occurrences of 192.168.1 with <a href=#>the IP address of your network</a>.</p><pre><code class="hljs xml"><span class=hljs-meta>#!/bin/bash</span><p><span class=hljs-keyword>for</span> ((device=<span class=hljs-variable>$1</span>; device&lt;=<span class=hljs-variable>$2</span>; device++))<br><span class=hljs-keyword>do</span></p><p>&nbsp;&nbsp;arping -c <span class=hljs-number>1</span>&nbsp;<span class=hljs-number>192.168</span><span class=hljs-number>.1</span>.$device | grep -E <span class=hljs-string>"1 response|1 packets received"</span> &gt; <span class=hljs-regexp>/dev/</span><span class=hljs-literal>null</span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>if</span>&nbsp;<span class=hljs-selector-attr>[ $? == 0 ]</span>; <span class=hljs-selector-tag>then</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"192.168.1.<span class=hljs-variable>$device</span> responded."</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>else</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"192.168.1.<span class=hljs-variable>$device</span> didn't respond."</span><br>&nbsp;&nbsp;<span class=hljs-keyword>fi</span><br>&nbsp;&nbsp;<br><span class=hljs-keyword>done</span></p></code> </pre><p>The script accepts two command line parameters. These are used as the last octet of the IP addresses of the range you want to use <code>arping</code> on. So, if you pass 20 and 30 to the script, the loop would begin at 192.168.1.<strong>20</strong> and would terminate after using IP address 192.168.1.<strong>30</strong>.</p><p>The parameters are accessed inside the script as <code>$1</code> and <code>$2</code>. These are used in a C-style <code>for</code> loop. At each spin of the <code>for</code> loop, <code>$device</code> is set to the next IP address in the range.</p><p>The script uses the same <code>arping -c</code> format we've already seen, but this time we're only asking for a single ARP request to be sent to each device in the range.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The output from the <code>arping</code> command is <a href=#>piped</a> through <code>grep</code>.</p><p>The <code>grep</code> syntax can be simplified in your script. <code>grep</code> is looking for one of two strings, either "1 response" or "1 packets received." This is because the test computers had different versions of <code>arping</code> on them and they use different terminology. If <code>grep</code> finds either of these phrases, its exit value will be zero.</p><p>When you know which of the phrases your version of <code>arping</code> uses, you can simplify the <code>grep</code> syntax by removing the other phrase.</p><p>The <code>if</code> statement tests <code>$?</code>---a variable that holds the exit code of the last process that ended---to see if it is zero. If it is, it uses <code>echo</code> to print a message of success to the terminal window. If the test fails then <code>grep</code> did not find either of the strings, meaning the ARP request failed.</p><p>Make your script executable by using the <code>chmod</code> command and the <code>+x</code> option.</p><pre>chmod +x scan-range.sh</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/9-8.png><p>We'll run it and scan the IP range from 15 to 20. Some of these addresses do not have devices attached, so we should see some failures. Remember to use <code>sudo</code> . We'll also try to <code>ping</code> the device at 192.168.1.15.</p><pre>sudo ./scan-range.sh 15 20</pre><pre>ping 192.168.1.15</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2022/06/10-8.png><p>We get a mixture of successes and failures, as you would on any network. But notice that although the device at 192.168.1.15 responds to the layer two ARP request, it doesn't respond to the layer three&nbsp;<code>ping</code> request.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>If you had pinged the device and noted the failure you'd probably be inclined to check that it was plugged in, online, and whether you could <code>ping</code> out of device 192.168.1.15.</p><p>But with <code>arping</code> you can verify that it is connected, online, and network-accessible. That would guide your troubleshooting to start looking into routing and ARP table issues.</p><h2 id=a-deeper-insight>A Deeper Insight</h2><p>There are many layers to the networking onion. If <code>ping</code> doesn't get you anywhere, drop down a layer and see what <code>arping</code> can tell you.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7qbvWraagnZWge6S7zGhvamtnaX5wuMinrLFlkae9qrrGZpqopZ2Wu6V7</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=./nick-cave-the-bad-seeds-cancels-north-america-for-2020.html rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Nick Cave &amp;amp; The Bad Seeds Cancels North America For 2020</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=./euromillions-results-numbers-july-18-2023.html rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>EuroMillions results and numbers: National Lottery draw tonight, July 18</p></a></div></nav></div><aside class=sidebar><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./marco-pasternak-better-call-saul-character-profile.html>Marco Pasternak: Better Call Saul character profile</a></li><li class=widget__item><a class=widget__link href=./truck-vs-person-crash-off-n-division-st-in-davenport.html>Police investigate fatal crash off North Division Street, Davenport</a></li><li class=widget__item><a class=widget__link href=./grant-chestnu.html>Who is American Actor Grant Chestnut? His Height, Weight, Bio</a></li><li class=widget__item><a class=widget__link href=./john-cangelosi.html>Who is John Cangelosi dating? John Cangelosi girlfriend, wife</a></li><li class=widget__item><a class=widget__link href=./sandy-cagle.html>Who is Sandy Cagle dating? Sandy Cagle boyfriend, husband</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./categories/blog/>blog</a></li></ul></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 DashJ.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=https://assets.cdnweb.info/hugo/mainroad/js/menu.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>